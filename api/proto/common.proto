syntax = "proto3";

package animeenigma.common.v1;

option go_package = "github.com/ILITA-hub/animeenigma/gen/go/common/v1;commonv1";

import "google/protobuf/timestamp.proto";

// Pagination request for cursor-based pagination
message CursorPaginationRequest {
  optional int32 first = 1;
  optional string after = 2;
  optional int32 last = 3;
  optional string before = 4;
}

// Pagination info for cursor-based responses
message CursorPaginationInfo {
  bool has_next_page = 1;
  bool has_previous_page = 2;
  string start_cursor = 3;
  string end_cursor = 4;
  optional int64 total_count = 5;
}

// Pagination request for offset-based pagination
message OffsetPaginationRequest {
  int32 page = 1;
  int32 page_size = 2;
}

// Pagination info for offset-based responses
message OffsetPaginationInfo {
  int32 page = 1;
  int32 page_size = 2;
  int32 total_pages = 3;
  int64 total_count = 4;
}

// Common timestamps
message Timestamps {
  google.protobuf.Timestamp created_at = 1;
  google.protobuf.Timestamp updated_at = 2;
  optional google.protobuf.Timestamp deleted_at = 3;
}

// Error codes
enum ErrorCode {
  ERROR_CODE_UNSPECIFIED = 0;
  ERROR_CODE_INTERNAL = 1;
  ERROR_CODE_NOT_FOUND = 2;
  ERROR_CODE_ALREADY_EXISTS = 3;
  ERROR_CODE_INVALID_INPUT = 4;
  ERROR_CODE_UNAUTHORIZED = 5;
  ERROR_CODE_FORBIDDEN = 6;
  ERROR_CODE_RATE_LIMITED = 7;
  ERROR_CODE_UNAVAILABLE = 8;
  ERROR_CODE_EXTERNAL_API = 9;
}

// Error details
message ErrorDetail {
  ErrorCode code = 1;
  string message = 2;
  map<string, string> details = 3;
}
